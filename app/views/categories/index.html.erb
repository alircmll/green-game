<section id="categories" class="container-fluid">
<div class="search-bar">

  <%= simple_form_for root_path, method: :get, class: "search" do %>
    <%= text_field_tag :search, nil, placeholder: "Search artists ...", class: "form-control" %>
    <%= submit_tag "",  class: "exit", style: "display: none;",type: "reset" %>
    <% end %>
</div>


  <div  class="row text-center">
    <div class="col-12 mb-4">
      <h2 class="text-primary display-4 text-uppercase"><strong>Challenges</strong></h2>
    </div>
  </div>

  <div class="row">
    <div class="col-12 text-center">
      <button class="button-homepage"><%= link_to "Challenges", challenges_path %> <i class="fas fa-chevron-circle-right"></i></button>
    </div>
  </div>
  <div class="row">
    <div class="col-12 text-center">
      <button class="button-homepage"><%= link_to "Quiz", new_answer_path %> <i class="fas fa-chevron-circle-right"></i></button>
    </div>
  </div>
  <% if @tips.nil? != true %>
    <% if @tips.count > 0 %>
      <div class="search-result">
        <% @tips.each do |tip| %>
          <div class="card w-100 my-4">
            <div class="card-body">
              <div class="voteForTip  d-flex justify-content-end">
                  <%= button_to tip_votes_path(tip), method: :post, class: "like-btn" do %>
                    <i class="fa<%= tip.votes.present? ? "s" : "r" %> fa-heart"></i>
                  <% end %>
              </div>
                <h5 class="card-title"><%= tip.title %></h5>
                  <h6 class="card-subtitle mb-2 text-muted"><small>Posted by: <%= tip.user.username %></small></h6>
                  <p class="card-text"><%= tip.description %></p>
              <div class="bottom-tip-card d-flex justify-content-space-around align-items-center">
                <span><%= pluralize(tip.votes.count, 'likes') %></span>
                  <% if tip.user == current_user %>
                    <%= button_to tip_path(tip), method: :delete, class: "like-btn" do%>
                      <i class='fas fa-trash-alt'></i>
                    <% end %>
                  <% end %>
              </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>

<% if @challenges.nil? != true %>
  <% if @challenges.count > 0 %>
    <div class="search-result">
      <div class="row">
        <div class="col-12">
          <% @challenges.each do |challenge| %>
            <%= challenge.title %>
            <%= challenge.description.first(10) %>
            <%= link_to "show", challenge_path(challenge)  %>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>

<% if @categories.count > 0 %>
  <div class="row">
    <%  @categories.each do |category| %>
    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-4 mb-sm-4">
      <div class="wrapper">
        <div class="card-homepage"><%= cl_image_tag('Velo_npexj9', class: "card-img") %>
          <div class="info">
            <h3><%= category.name %></h3>
            <button><%= link_to "Details", category_path(category) %></button>
          </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
<% end %>
</section>
